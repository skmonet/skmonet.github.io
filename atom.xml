<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>深空莫奈</title>
  
  <subtitle>未有知而不行者，知而不行，只是未知</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://skmonet.github.io/"/>
  <updated>2020-04-12T09:57:52.319Z</updated>
  <id>http://skmonet.github.io/</id>
  
  <author>
    <name>深空莫奈</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>UWP程序使用代理</title>
    <link href="http://skmonet.github.io/other/uwp-cheng-xu-shi-yong-dai-li.html"/>
    <id>http://skmonet.github.io/other/uwp-cheng-xu-shi-yong-dai-li.html</id>
    <published>2020-04-12T09:47:04.000Z</published>
    <updated>2020-04-12T09:57:52.319Z</updated>
    
    <content type="html"><![CDATA[<p>Windows10的UWP程序默认无法使用本机的代理程序，需要使用checknetisolation.exe命令添加。</p><h2 id="查看已经添加的UWP程序"><a href="#查看已经添加的UWP程序" class="headerlink" title="查看已经添加的UWP程序"></a>查看已经添加的UWP程序</h2><pre><code>checknetisolation.exe loopbackexempt -s</code></pre><h2 id="添加新的UWP程序"><a href="#添加新的UWP程序" class="headerlink" title="添加新的UWP程序"></a>添加新的UWP程序</h2><pre><code>checknetisolation.exe loopbackexempt -a -p=&lt;SID&gt;</code></pre><h2 id="删除已经添加的UWP程序"><a href="#删除已经添加的UWP程序" class="headerlink" title="删除已经添加的UWP程序"></a>删除已经添加的UWP程序</h2><pre><code>checknetisolation.exe loopbackexempt -d -p=&lt;SID&gt;</code></pre><h2 id="程序的SID需要从注册表找查找"><a href="#程序的SID需要从注册表找查找" class="headerlink" title="程序的SID需要从注册表找查找"></a>程序的SID需要从注册表找查找</h2><pre><code>HKEY_CURRENT_USER\Software\Classes\Local Settings\Software\Microsoft\Windows\CurrentVersion\AppContainer\Mappings</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Windows10的UWP程序默认无法使用本机的代理程序，需要使用checknetisolation.exe命令添加。&lt;/p&gt;
&lt;h2 id=&quot;查看已经添加的UWP程序&quot;&gt;&lt;a href=&quot;#查看已经添加的UWP程序&quot; class=&quot;headerlink&quot; title=&quot;查
      
    
    </summary>
    
    
      <category term="other" scheme="http://skmonet.github.io/categories/other/"/>
    
    
      <category term="uwp" scheme="http://skmonet.github.io/tags/uwp/"/>
    
  </entry>
  
  <entry>
    <title>Linux下网卡聚合配置</title>
    <link href="http://skmonet.github.io/linux/linux-pei-zhi-jie-kou-bond.html"/>
    <id>http://skmonet.github.io/linux/linux-pei-zhi-jie-kou-bond.html</id>
    <published>2020-04-12T09:28:25.000Z</published>
    <updated>2020-04-12T16:16:20.540Z</updated>
    
    <content type="html"><![CDATA[<p>在Linux下配置网卡聚合，并且在OVS中调用，配置步骤如下：</p><h3 id="1-检查所需要的组件以及信息"><a href="#1-检查所需要的组件以及信息" class="headerlink" title="1.检查所需要的组件以及信息"></a>1.检查所需要的组件以及信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l &#x2F;lib&#x2F;modules&#x2F;&#96;uname -r&#96;&#x2F;kernel&#x2F;drivers&#x2F;net&#x2F;bonding&#x2F;bonding.ko</span><br><span class="line">$ modprobe bonding</span><br><span class="line">$ lsmod | grep bonding</span><br><span class="line">$ dpkg -l | grep ifenslave</span><br></pre></td></tr></table></figure><p>如果<code>$ dpkg -l | grep ifenslave</code>没有输出，执行以下命令进行安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ apt install ifenslave</span><br></pre></td></tr></table></figure><h3 id="2-修改interface文件"><a href="#2-修改interface文件" class="headerlink" title="2.修改interface文件"></a>2.修改interface文件</h3><p>不同服务器做bond配置时接口数量不同，根据实际情况修改</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim &#x2F;etc&#x2F;network&#x2F;interfaces</span><br></pre></td></tr></table></figure><p>在每个接口下面添加代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bond-master bond0</span><br></pre></td></tr></table></figure><p>在最后添加bond接口代码，其中<code>bond-mode</code>可以根据实际需求进行求改，详细信息查看<a href="https://help.ubuntu.com/community/UbuntuBonding">这里</a>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">auto bond0</span><br><span class="line">iface bond0 inet manual</span><br><span class="line">    bond-mode 4</span><br><span class="line">    bond-lacp-rate 1</span><br><span class="line">    bond-miimon 100</span><br><span class="line">    bond-slaves none</span><br><span class="line">    bond-xmit-hash-policy layer3+4</span><br></pre></td></tr></table></figure><h3 id="3-修改OVS"><a href="#3-修改OVS" class="headerlink" title="3.修改OVS"></a>3.修改OVS</h3><p>如果已经部署过OVS的bond0，需要先删除，然后重新添加</p><p>删除原有的bond0</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ovs-vsctl del-port br-sdwan bond0</span><br></pre></td></tr></table></figure><h3 id="4-启动新bond0"><a href="#4-启动新bond0" class="headerlink" title="4.启动新bond0"></a>4.启动新bond0</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifup bond0</span><br></pre></td></tr></table></figure><p>此时系统会提示60秒等待接口加入，可以直接ctrl+c暂停。</p><h3 id="5-将接口加入bond0"><a href="#5-将接口加入bond0" class="headerlink" title="5.将接口加入bond0"></a>5.将接口加入bond0</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifenslave bond0 ens1f0 ens2f0 ens1f1 ens2f1</span><br></pre></td></tr></table></figure><blockquote><p>根据站点服务器型号输入接口名称与接口数量</p></blockquote><h3 id="6-查看bond0信息"><a href="#6-查看bond0信息" class="headerlink" title="6.查看bond0信息"></a>6.查看bond0信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;proc&#x2F;net&#x2F;bonding&#x2F;bond0</span><br></pre></td></tr></table></figure><p>可以看到加入到bond0的接口数量与模式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Bonding Mode: IEEE 802.3ad Dynamic link aggregation</span><br><span class="line">Transmit Hash Policy: layer3+4 (1)</span><br><span class="line">port number: 4</span><br></pre></td></tr></table></figure><h3 id="7-将新bond0加入到OVS"><a href="#7-将新bond0加入到OVS" class="headerlink" title="7.将新bond0加入到OVS"></a>7.将新bond0加入到OVS</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ovs-vsctl add-port br-sdwan bond0</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在Linux下配置网卡聚合，并且在OVS中调用，配置步骤如下：&lt;/p&gt;
&lt;h3 id=&quot;1-检查所需要的组件以及信息&quot;&gt;&lt;a href=&quot;#1-检查所需要的组件以及信息&quot; class=&quot;headerlink&quot; title=&quot;1.检查所需要的组件以及信息&quot;&gt;&lt;/a&gt;1.检查所
      
    
    </summary>
    
    
      <category term="linux" scheme="http://skmonet.github.io/categories/linux/"/>
    
    
      <category term="linux-interface-bond" scheme="http://skmonet.github.io/tags/linux-interface-bond/"/>
    
  </entry>
  
</feed>
